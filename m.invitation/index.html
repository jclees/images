<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1, minimum-scale=1">
    <link rel="stylesheet" type="text/css" href="css/reset.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <link rel="stylesheet" type="text/css" href="css/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="js/swiper/css/swiper.min.css" />
    <style>
        .swiper-container {
            position: absolute;
            top: 10vw;
            height: 46vw;
            width: 60%;
            left: 50%;
            transform: translate(-50%, 0);
        }


        .swiper-pagination-bullet {
            background: #90aecb;
            opacity: 1;
        }

        .swiper-pagination-bullet-active {
            background: #fff;
            opacity: 1;
        }

        .swiper-container-horizontal>.swiper-pagination-bullets,
        .swiper-pagination-custom,
        .swiper-pagination-fraction {
            bottom: 0;
        }

        .sw_txt {
            position: absolute;
            top: 57vw;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 12px;
            line-height: 6vw;
            letter-spacing: 4px;
            text-shadow: 0px 0px 10px #2f8990, 0px 0px 10px #2f8990, 0px 0px 10px #2f8990, 0px 0px 10px #2f8990;
        }

        .swiper-pagination-bullet {
            width: 4px;
            height: 4px;
        }

        .swiper-container-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet {
            margin: 0 2px;
        }

        .sw_txt_intro {
            top: 83vw;
            font-size: 20px;
        }

        .shadow_an {
            position: absolute;
            left: 0;
            top: 0;
        }
    </style>
</head>

<body>
    <div class="main">
        <div class="page page1" style="display: block">
            <div class="page1_main">
                <div class="loading_box">
                    <img src="images/loading.png" alt="" class="auto_img img">
                    <p class="txt">0%</p>
                </div>
                <p class="tips">loading...</p>
            </div>
        </div>
        <div class="page page2">
            <div class="page2_main">
                <div class="txt_box">
                    <p class="animated fadeInDown">从没想过改变世界</p>
                    <p class="animated fadeInDown">从没想过改变世界</p>
                    <p>从没想过改</p>
                </div>
                <div class="txt_box txt_box_2">
                    <p>从没想过改变世界</p>
                    <p>从没想过改变世界</p>
                    <p>从没想过改</p>
                </div>
                <div class="txt_box txt_box_3">
                    <p>从没想过改变世界</p>
                    <p>从没想过改变世界</p>
                </div>
                <div class="txt_box txt_box_4">
                    <p>从没想过改变世界</p>
                    <p>从没想过改变世界</p>
                    <p>从没想过改变世界</p>
                </div>
                <img src="images/page2/tit.png" alt="" class="page2_main_tit">
                <img src="images/page2/arrow.png" alt="" class="page2_arrow">
            </div>
        </div>
        <div class="page page3 animated">
            <div class="page3_main">
                <img src="images/page3/tit1.png" alt="" class="auto_img">
                <img src="images/page3/tit3.png" alt="" class="auto_img" style="padding-top: 6.7vw;">
                <div class="txt">
                    <p>2018.12月27日 8:00</p>
                    <p>青岛金沙滩希尔顿酒店</p>
                </div>
                <a href="javascript:;">
                    <img src="images/page3/btn.png" alt="" class="auto_img nextShow">
                </a>
            </div>
        </div>

        <div class="page page4">
            <div class="page4_main">
                <img src="images/page4/tit.png" alt="" class="page4_main_tit">
                <div class="page4_swp">
                    <img src="images/page4/swiper_bg.png" alt="" class="page4_swp_bg">
                    <div class="swiper-container banner1">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="images/banner/1-1.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/1-2.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/1-3.png" alt="" class="auto_img">
                            </div>
                        </div>
                        <div class="swiper-pagination spot1"></div>
                    </div>
                    <p class="sw_txt">向右滑动</p>
                    <p class="sw_txt sw_txt_intro">水之优雅</p>
                </div>
                <div class="btn_group">
                    <a href="javascript:;" class="nextShow" data-page="6">
                        <img src="images/bot_btn_01.png" alt="" class="">
                        <img src="images/012.png" alt="" class="shadow_an">
                    </a>
                    <a href="javascript:;" class="nextShow">
                        <img src="images/bot_btn_02.png" alt="" class="">
                    </a>
                </div>
            </div>
        </div>
        <div class="page page5">
            <div class="page5_main">
                <img src="images/page5/tit.png" alt="" class="auto_img">
                <div class="page5_cen">
                    <img src="images/page5/cent_q.png" alt="" class="">
                    <img src="images/page5/cent_mof.png" alt="" class="">
                </div>
                <img src="images/page5/txt.png" alt="" class="auto_img" style="padding-bottom: 2vw;">
                <div class="btn_group">
                    <a href="javascript:;" class="nextShow" data-page="6">
                        <img src="images/bot_btn_01_act.png" alt="" class="img">
                    </a>
                    <a href="javascript:;" class="nextShow">
                        <img src="images/bot_btn_02_act.png" alt="" class="img">
                    </a>
                </div>
            </div>
        </div>
        <div class="page page6">
            <div class="page4_main">
                <img src="images/page4/tit2.png" alt="" class="page4_main_tit">
                <div class="page4_swp">
                    <img src="images/page4/swiper_bg.png" alt="" class="page4_swp_bg">
                    <div class="swiper-container banner2">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="images/banner/2-1.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/2-2.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/2-3.png" alt="" class="auto_img">
                            </div>
                        </div>
                        <div class="swiper-pagination spot2"></div>
                    </div>
                    <p class="sw_txt">向右滑动</p>
                    <p class="sw_txt sw_txt_intro">多重荣耀花落谁家</p>
                </div>
                <div class="btn_group">
                    <a href="javascript:;" class="nextShow" data-page="6">
                        <img src="images/bot_btn_01.png" alt="" class="">
                    </a>
                    <a href="javascript:;" class="nextShow">
                        <img src="images/bot_btn_02.png" alt="" class="">
                    </a>
                </div>
            </div>
        </div>
        <div class="page page7">
            <div class="page4_main">
                <img src="images/page4/tit3.png" alt="" class="page4_main_tit">
                <div class="page4_swp">
                    <img src="images/page4/swiper_bg.png" alt="" class="page4_swp_bg">
                    <div class="swiper-container banner3">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <img src="images/banner/3-1.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/3-2.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/3-3.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/3-4.png" alt="" class="auto_img">
                            </div>
                            <div class="swiper-slide">
                                <img src="images/banner/3-5.png" alt="" class="auto_img">
                            </div>
                        </div>
                        <div class="swiper-pagination spot3"></div>
                    </div>
                    <p class="sw_txt">向右滑动</p>
                    <p class="sw_txt sw_txt_intro">全息5D沉浸启动</p>
                </div>
                <div class="btn_group">
                    <a href="javascript:;" class="nextShow" data-page="6">
                        <img src="images/bot_btn_01.png" alt="" class="">
                    </a>
                    <a href="javascript:;" class="nextShow">
                        <img src="images/bot_btn_02.png" alt="" class="">
                    </a>
                </div>
            </div>
        </div>

        <div class="page page8">
            <div class="page3_main page8_main">
                <img src="images/page3/tit1.png" alt="" class="auto_img">
                <img src="images/page3/tit3.png" alt="" class="auto_img" style="padding-top: 6.7vw;">
                <img src="images/page6/tit.png" alt="" class="auto_img" style="padding: 6vw 0 2vw 0;">
                <input type="text" placeholder="点击输入姓名" class="inp">

                <div class="txt">
                    <p>2018.12月27日 8:00</p>
                    <p>青岛金沙滩希尔顿酒店</p>
                </div>
                <a href="javascript:;">
                    <img src="images/page6/btn.png" alt="" class="auto_img nextShow">
                </a>
            </div>
        </div>
        <div class="page page9">
            <div class="page9_main">
                <p class="tips">您的邀请函已生成！</p>
                <div class="poster_box">
                    <img src="images/hb.png" alt="" class="auto_img">
                    <p class="tips">请长按图片保存邀请函</p>
                </div>
                <div class="btn_group">
                    <a href="javascript:;" class="openShare">
                        <img src="images/bot_btn_03.png" alt="" class="img">
                    </a>
                    <a href="javascript:;" class="nextShow" data-page="3">
                        <img src="images/bot_btn_04.png" alt="" class="img">
                    </a>
                </div>
            </div>
        </div>
        <div class="share">
            <div class="cover"></div>
            <div class="con">
                <img src="images/share/arrow.png" alt="" class="auto_img">
                <a href="javascript:;">
                    <img src="images/share/btn.png" alt="" class="auto_img">
                </a>
            </div>
        </div>
        <a href="javascript:;" class="muc close_music_div" onclick="pauseAuto()" style="display: block;">
            <img src="images/muc.png" alt="">
        </a>
        <a href="javascript:;" class="muc open_music_div" onclick="openmusic()">
            <img src="images/muc_act.png" alt="">
        </a>
    </div>

    <audio style="display:none; height: 0" id="bg-music" preload="auto" src="videos/bg_music_01.mp3" loop="loop"></audio>


    <script src="js/jquery-1.8.0.min.js"></script>
    <script src="js/swiper/js/swiper.min.js"></script>
    <script>
        (function () {
            function isArray(obj) {
                return Object.prototype.toString.call(obj) === '[object Array]';
            }

            /**
             * @param imgList 要加载的图片地址列表，['aa/asd.png','aa/xxx.png']
             * @param callback 每成功加载一个图片之后的回调，并传入“已加载的图片总数/要加载的图片总数”表示进度
             * @param timeout 每个图片加载的超时时间，默认为5s
             */
            var loader = function (imgList, callback, timeout) {
                timeout = timeout || 5000;
                imgList = isArray(imgList) && imgList || [];
                callback = typeof (callback) === 'function' && callback;

                var total = imgList.length,
                    loaded = 0,
                    imgages = [],
                    _on = function () {
                        loaded < total && (++loaded, callback && callback(loaded / total));
                    };

                if (!total) {
                    return callback && callback(1);
                }

                for (var i = 0; i < total; i++) {
                    imgages[i] = new Image();
                    imgages[i].onload = imgages[i].onerror = _on;
                    imgages[i].src = imgList[i];
                }

                /**
                 * 如果timeout * total时间范围内，仍有图片未加载出来（判断条件是loaded < total），通知外部环境所有图片均已加载
                 * 目的是避免用户等待时间过长
                 */
                setTimeout(function () {
                    loaded < total && (loaded = total, callback && callback(loaded / total));
                }, timeout * total);

            };

            "function" === typeof define && define.cmd ? define(function () {
                return loader
            }) : window.imgLoader = loader;
        })();
        // console.log($("img").attr("src"))
        var imgurl = [];
        var bgimgurl = ['images/page_bg_02.png', 'images/page_bg_03.png', 'images/page_bg_04.png']
        $("img").each(function (i, t) {
            imgurl.push($("img").eq(i).attr("src"))
        })
        imgurl.concat(bgimgurl)
        console.log(imgurl)
        var callbacks = [];
        let imgarr = ['images/page_bg_02.png', 'images/page_bg_03.png', 'images/page_bg_04.png', 'images/page_bg_04.png', 'images/banner/1-1.png', 'images/banner/1-2.png', 'images/banner/1-3.png']
        imgLoader(imgurl, function (percentage) {
            // var i = callbacks.length;
            // callbacks.push(function () {
            //     setTimeout(function () {
            //         var percentT = percentage * 100;
            //         $('.loading_box .txt').text((parseInt(percentT)) + '%');
            //         // $('#loader__progress')[0].style.width = percentT + '%';
            //         if (percentage == 1) {
            //             setTimeout(function () {
            //                 // $('#loader').remove();
            //                 // Swipe.init();
            //     $('.page1').hide().next().show();
            //             }, 100);
            //         }
            //         callbacks[i + 1] && callbacks[i + 1]();
            //     }, 100);
            // });

            // if (percentage == 1) {
            //     callbacks[0]();
            // }

            var percentT = percentage * 100;
            $('.loading_box .txt').html((parseInt(percentT)) + '%');
            if (percentage == 1) {
                $('.page1').hide().next().show();
            }
        });


        // setInterval(function () {
        //     $(".shadow_an").css({ opacity: '0' }).animate({ opacity: '1' }, "normal", "linear");
        // }, 1500)
        var swiper1 = new Swiper('.banner1', {
            pagination: {
                el: '.spot1',
            },
        });
        $(document).ready(function () {

            // var swiper2 = new Swiper('.banner2', {
            //     pagination: {
            //         el: '.spot2',
            //     },
            // });
            // var swiper3 = new Swiper('.banner3', {
            //     pagination: {
            //         el: '.spot3',
            //     },
            // });
        })

        $(".nextShow").on('click', function () {
            let page = $(this).attr("data-page");
            if (page) {
                debugger
                $(".page" + page).show()
                $(this).parents(".page").siblings().hide()
                return
            }
            $(".page").hide();
            $(this).parents(".page").next().show()
            $(".close_music_div").show()
        });
        $(".openShare").on("click", function () {
            $(".share").show()
        })
        $(".cover").on("click", function () {
            $(".share").hide()
        })
        // var page_le = $(".page").length;
        // var click_le = 1;
        // $(".page").on("click", function () {
        //     console.log(click_le)
        //     console.log(page_le)
        //     if (click_le == page_le) {
        //         return
        //     };
        //     click_le++;
        //     $(this).hide().next().show();
        // })
        // $(".page1").on("click", function () {
        //     $(this).hide().next().show();
        // })

        //滑动处理
        var startX, startY;
        document.addEventListener('touchstart', function (ev) {
            startX = ev.touches[0].pageX;
            startY = ev.touches[0].pageY;
        }, false);

        document.addEventListener('touchend', function (ev) {
            if ($('.page2').css('display') == 'none') {
                return
            }
            var endX, endY;
            endX = ev.changedTouches[0].pageX;
            endY = ev.changedTouches[0].pageY;
            var direction = GetSlideDirection(startX, startY, endX, endY);
            switch (direction) {
                case 0:
                    alert("无操作");
                    break;
                case 1:
                    // 向上
                    // alert("up");
                    $(".page2").hide().next().show()
                    break;
                case 2:
                    // 向下
                    alert("down");
                    break;

                default:
            }
        }, false);
        function GetSlideDirection(startX, startY, endX, endY) {
            var dy = startY - endY;
            //var dx = endX - startX;
            var result = 0;
            if (dy > 0) {//向上滑动
                result = 1;
            } else if (dy < 0) {//向下滑动
                result = 2;
            }
            else {
                result = 0;
            }
            return result;
        }
    </script>
    <script>
            /*
     *坠落效果
     */
     // function Falling() {
     //   this.dict = ["从", "来", "没", "有", "想", "过"];
     //   this.canvas = $(".page2");
     //   this.step = 15;
     //   this.freq = 100;
     //   this.height = 500;
     //   this.width = 500;
     //   this.si = null;
     // }
     // Falling.prototype = {
     //   fallingAction: function (dom) {
     //     var self = this;
     //     var freqs = [10, 15, 20];//每次下落的距离
     //     var disS = [];//记录所有dom的当前距离
     //     var disPerFreqS = [];//每个dom的
     //     var targetDis = 500;
     //     var domCssTopS = [];//所有dom的top属性
     //     var successDom = [];//记录哪些dom已经结束运动
     //     var successCount = 0;//有多少个dom已经结束
     //     var total = dom.length;
     //     var freqMarkLength = freqs.length;
     //     for (var i = 0, j = dom.length; i < j; i++) {
     //       domCssTopS[i] = dom[i].position().top;
     //       disS[i] = 0;
     //       disPerFreqS[i] = freqs[parseInt(Math.random() * freqMarkLength)];
     //     }
     //     self.si = setInterval(function () {
     //       if (successCount >= total) {
     //         clearInterval(self.si);
     //       }
     //       for (var i = 0, j = dom.length; i < j; i++) {
     //         if (typeof (successDom[i]) != "undefined" && successDom[i] == "ok") {
     //           continue;
     //         }
     //         disS[i] += disPerFreqS[i];
     //         if (disS[i] >= targetDis) {
     //           dom[i].css("top", targetDis + domCssTopS[i]);
     //           successDom[i] = "ok";
     //           successCount++;;
     //         } else {
     //           dom[i].css("top", disS[i] + domCssTopS[i]);
     //         }
     //       }
     //     }, self.freq);
     //   },
     //   init: function () {
     //     var self = this;
     //     self.canvas.html('');
     //     var dom = [];
     //     var l = 0;
     //     var t = 0;
     //     var tempDom = $("<div style='position;absolute;left:-100000;visibility:hidden'></div>").appendTo($("body"));
     //     for (var i = 0, j = self.dict.length; i < j; i++) {
     //         debugger
     //       dom[i] = $("<span style='position:absolute' class='txt'>" + self.dict[i] + "</span>").appendTo(tempDom);
     //       var domWidth = dom[i].width();
     //       var domHeight = dom[i].height();
     //       if (t < self.height) {
     //         if (l < self.width) {
     //           if (domWidth + l <= self.width) {
     //             dom[i].css({ "top": t, "left": l });
     //             self.canvas.append(dom[i]);
     //             l += dom[i].width();
     //           } else {
     //             if (domHeight + t <= self.height) {
     //               t = t + domHeight;
     //               dom[i].css({ "top": t, "left": 0 });
     //               self.canvas.append(dom[i]);
     //               l = dom[i].width();
     //             } else {
     //               break;//到极限了
     //             }
     //           }
     //         } else {
     //           if (domHeight + t <= self.height) {
     //             t = t + domHeight;
     //             l = 0;
     //             dom[i].css({ "top": t, "left": l });
     //             self.canvas.append(dom[i]);
     //           } else {
     //             break;//到极限了
     //           }
     //         }
     //       }//else极限
     //     }
     //     /*
     //     for(var i=0,l=self.dict.length;i<l;i++){
     //      self.fallingAction(dom[i]);
     //     }
     //     */
     //     self.fallingAction(dom);
     //   }
     // }
     // var falling = new Falling();
     // setTimeout(function(){
     //     falling.init();
     // },1000)
    </script>
    <!-- <script>
        //音乐自动播放
        $(document).ready(function () {
            autoPlayMusic();
            audioAutoPlay();
        });

        function openmusic() {
            autoPlayMusic();
            audioAutoPlay();
            $(".close_music_div").css({ "display": "block" });
            $(".open_music_div").css({ "display": "none" });
        }

        function pauseAuto() {
            var audio = document.getElementById('bg-music');
            audio.pause();
            $(".close_music_div").css({ "display": "none" });
            $(".open_music_div").css({ "display": "block" });
        }

        function audioAutoPlay() {
            var audio = document.getElementById('bg-music');
            audio.play();
            document.addEventListener("WeixinJSBridgeReady", function () {
                audio.play();
            }, false);
        }
        // 音乐播放
        function autoPlayMusic() {
            // 自动播放音乐效果，解决浏览器或者APP自动播放问题
            function musicInBrowserHandler() {
                musicPlay(true);
                document.body.removeEventListener('touchstart', musicInBrowserHandler);
            }
            document.body.addEventListener('touchstart', musicInBrowserHandler);
            // 自动播放音乐效果，解决微信自动播放问题
            function musicInWeixinHandler() {
                musicPlay(true);
                document.addEventListener("WeixinJSBridgeReady", function () {
                    musicPlay(true);
                }, false);
                document.removeEventListener('DOMContentLoaded', musicInWeixinHandler);
            }
            document.addEventListener('DOMContentLoaded', musicInWeixinHandler);
        }
        function musicPlay(isPlay) {
            var media = document.querySelector('#bg-music');
            if (isPlay && media.paused) {
                media.play();
            }
            if (!isPlay && !media.paused) {
                media.pause();
            }
        }
    </script> -->
</body>

</html>